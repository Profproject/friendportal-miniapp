<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FriendPortal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
      background: linear-gradient(135deg, #5a2fd6, #7b4cff);
      color: #fff;
      text-align: center;
    }

    .container {
      padding: 24px;
    }

    .card {
      background: rgba(255,255,255,0.15);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .btn {
      width: 100%;
      padding: 14px;
      margin-top: 12px;
      border-radius: 12px;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    .btn-main {
      background: #fff;
      color: #5a2fd6;
      font-weight: bold;
    }

    .btn-secondary {
      background: rgba(255,255,255,0.25);
      color: #fff;
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>
<div class="container">

  <h1 id="title">ğŸš€ FriendPortal</h1>
  <p id="subtitle">Earn TON by inviting users</p>

  <div class="card" id="features">
    <p>ğŸ’ Referral rewards</p>
    <p>âš¡ Fast & automated payouts</p>
    <p>ğŸ” Secure TON payments</p>
  </div>

  <button class="btn btn-main" onclick="invite()">ğŸ‘¥ Invite users</button>
  <button class="btn btn-secondary" onclick="send('balance')">ğŸ’° Balance</button>
  <button class="btn btn-secondary" onclick="send('withdraw')">ğŸ’¸ Withdraw</button>
  <button class="btn btn-secondary" onclick="send('stats')">ğŸ“Š Statistics</button>
  <button class="btn btn-secondary" onclick="toggleHow()">â„¹ï¸ How it works</button>

  <div class="card hidden" id="how">
    <p>1ï¸âƒ£ Invite users via your referral link</p>
    <p>2ï¸âƒ£ Earn TON for each activation</p>
    <p>3ï¸âƒ£ Withdraw anytime</p>
  </div>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();
tg.ready();

// ===== SEND DATA TO BOT =====
function send(action) {
  tg.sendData(action);
}

// ===== INVITE =====
function invite() {
  const uid = tg.initDataUnsafe?.user?.id || "0";
  const link = `https://t.me/FriendPortalBot?start=${uid}`;

  tg.openTelegramLink(
    `https://t.me/share/url?url=${encodeURIComponent(link)}`
  );
}

// ===== HOW IT WORKS =====
function toggleHow() {
  document.getElementById("how").classList.toggle("hidden");
}
</script>

</body>
</html>
