<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>FriendPortal</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #000;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.app {
    position: relative;
    width: 100vw;
    height: 100vh;
    background: url("bg.png") center top / cover no-repeat;
}

/* === COINS === */
.coin {
    position: absolute;
    width: 90px;
    height: 90px;
    pointer-events: none;
    will-change: transform;
}

/* === BUTTONS === */
.buttons {
    position: absolute;
    bottom: 24px;
    left: 50%;
    transform: translateX(-50%);
    width: 92%;
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.btn {
    height: 56px;
    border-radius: 14px;
    border: none;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
}

.btn.invite {
    background: #fff;
    color: #333;
}

.btn.main {
    background: #6f6af8;
    color: #fff;
}

/* === MODAL === */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.65);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 50;
}

.modal-content {
    width: 86%;
    background: #15152a;
    border-radius: 18px;
    padding: 20px;
    color: #fff;
}

.modal-content h2 {
    margin-top: 0;
}

.modal-content button {
    margin-top: 16px;
    width: 100%;
    height: 44px;
    border-radius: 10px;
    border: none;
    background: #6f6af8;
    color: #fff;
    font-size: 16px;
}
</style>
</head>

<body>
<div class="app" id="app">

    <!-- COINS -->
    <img src="coin1.png" class="coin">
    <img src="coin13.png" class="coin">
    <img src="coin94.png" class="coin">
    <img src="coin108.png" class="coin">
    <img src="coin216.png" class="coin">

    <!-- BUTTONS -->
    <div class="buttons">
        <button class="btn invite" id="inviteBtn">üë• Invite users</button>
        <button class="btn main">üí∞ Balance</button>
        <button class="btn main">üí∏ Withdraw</button>
        <button class="btn main">üìä Statistics</button>
        <button class="btn main" id="howBtn">‚ÑπÔ∏è How it works</button>
        <button class="btn main">üîí Activate access</button>
    </div>
</div>

<!-- HOW IT WORKS MODAL -->
<div class="modal" id="howModal">
    <div class="modal-content">
        <h2>How it works</h2>
        <p>
            Invite users and earn TON rewards.<br><br>
            üîπ Level 1 referral: <b>+0.5 TON</b><br>
            üîπ Level 2 referral: <b>+0.25 TON</b><br><br>
            Activation is required to protect the system from multi-accounts and to enable successful withdrawals.<br><br>
            Minimum withdrawal: <b>5 TON</b>
        </p>
        <button onclick="closeHow()">OK</button>
    </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

/* === INVITE === */
document.getElementById("inviteBtn").onclick = () => {
    tg.openTelegramLink(
        `https://t.me/share/url?url=${encodeURIComponent("https://t.me/friendportal_bot")}&text=Join%20FriendPortal%20and%20earn%20TON`
    );
};

/* === HOW IT WORKS === */
const howModal = document.getElementById("howModal");
document.getElementById("howBtn").onclick = () => howModal.style.display = "flex";
function closeHow() { howModal.style.display = "none"; }

/* === COIN PHYSICS === */
const coins = document.querySelectorAll(".coin");
const app = document.getElementById("app");

const coinData = [];

coins.forEach(coin => {
    coinData.push({
        el: coin,
        x: Math.random() * (window.innerWidth - 100),
        y: Math.random() * (window.innerHeight * 0.6),
        vx: (Math.random() * 1.2 + 0.4) * (Math.random() > 0.5 ? 1 : -1),
        vy: (Math.random() * 1.2 + 0.4) * (Math.random() > 0.5 ? 1 : -1)
    });
});

function animate() {
    const w = window.innerWidth;
    const h = window.innerHeight;

    coinData.forEach(c => {
        c.x += c.vx;
        c.y += c.vy;

        if (c.x <= 0 || c.x >= w - 90) c.vx *= -1;
        if (c.y <= 0 || c.y >= h - 90) c.vy *= -1;

        c.el.style.transform = `translate(${c.x}px, ${c.y}px)`;
    });

    requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>
