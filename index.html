<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FriendPortal</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #000;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  overflow: hidden;
}

.app {
  position: relative;
  width: 100%;
  height: 100%;
  background: url("bg.png") no-repeat center top;
  background-size: cover;
}

/* ===== COINS ===== */
.coin {
  position: absolute;
  width: 104px; /* +30% */
  height: 104px;
  pointer-events: none;
  user-select: none;
}

.coin img {
  width: 100%;
  height: 100%;
}

/* ===== BUTTONS ===== */
.buttons {
  position: absolute;
  bottom: 40px;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
}

.btn {
  width: 70%;
  max-width: 340px;
  padding: 14px;
  border-radius: 14px;
  font-size: 17px;
  font-weight: 600;
  text-align: center;
  cursor: pointer;
}

.btn.white {
  background: #fff;
  color: #000;
}

.btn.purple {
  background: #6f6cf6;
  color: #fff;
}

/* ===== MODAL ===== */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.modal-content {
  background: #1c1c1e;
  color: #fff;
  padding: 22px;
  width: 80%;
  border-radius: 16px;
  font-size: 15px;
}

.modal-content h3 {
  margin-top: 0;
}

.modal button {
  margin-top: 15px;
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: none;
  font-weight: 600;
}
</style>
</head>

<body>
<div class="app" id="app">

  <!-- Coins -->
  <div class="coin"><img src="coin1.png"></div>
  <div class="coin"><img src="coin13.png"></div>
  <div class="coin"><img src="coin94.png"></div>
  <div class="coin"><img src="coin108.png"></div>
  <div class="coin"><img src="coin216.png"></div>

  <!-- Buttons -->
  <div class="buttons">
    <div class="btn white" id="invite">üë• Invite users</div>
    <div class="btn purple">üí∞ Balance</div>
    <div class="btn purple">üí∏ Withdraw</div>
    <div class="btn purple">üìä Statistics</div>
    <div class="btn purple" id="how">‚ÑπÔ∏è How it works</div>
    <div class="btn purple">üîê Activate access</div>
    <div class="btn purple">üì¢ For advertisers</div>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <div class="modal-content">
    <h3>How it works</h3>
    <p>
      Invite users and earn TON rewards.<br><br>
      ‚Ä¢ You get <b>+0.5 TON</b> for each invited user.<br>
      ‚Ä¢ If your referral invites another user, you earn <b>0.25 TON</b> (2nd level).<br><br>
      To withdraw funds, activation is required.<br>
      Activation costs <b>1 TON</b> and protects the system from multi-accounts
      and abuse. It also unlocks withdrawals.
    </p>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

/* ===== INVITE ===== */
document.getElementById("invite").onclick = () => {
  const link = "https://t.me/friendportal_bot";
  tg.openTelegramLink(
    `https://t.me/share/url?url=${encodeURIComponent(link)}`
  );
};

/* ===== MODAL ===== */
document.getElementById("how").onclick = () => {
  document.getElementById("modal").style.display = "flex";
};
function closeModal() {
  document.getElementById("modal").style.display = "none";
}

/* ===== COIN ANIMATION ===== */
const coins = document.querySelectorAll(".coin");
const W = window.innerWidth;
const H = window.innerHeight * 0.55; // ABOVE BUTTONS

coins.forEach(coin => {
  let x = Math.random() * (W - 120);
  let y = Math.random() * (H - 120);
  let vx = (Math.random() * 1.4 + 0.4) * (Math.random() > 0.5 ? 1 : -1);
  let vy = (Math.random() * 1.4 + 0.4) * (Math.random() > 0.5 ? 1 : -1);

  function move() {
    x += vx;
    y += vy;

    if (x < 0 || x > W - 110) vx *= -1;
    if (y < 0 || y > H - 110) vy *= -1;

    coin.style.transform = `translate(${x}px, ${y}px)`;
    requestAnimationFrame(move);
  }
  move();
});
</script>
</body>
</html>
