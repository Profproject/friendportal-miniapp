<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>FriendPortal</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #000;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.app {
  min-height: 100vh;
  background: url("background.jpg") no-repeat top center;
  background-size: cover;
  position: relative;
  overflow: hidden;
  padding-top: 300px; /* ‚¨Ö –º–µ—Å—Ç–æ –ø–æ–¥ –∫–∞—Ä—Ç–∏–Ω–∫—É */
}

/* ===== COINS ===== */
.coin {
  position: absolute;
  width: 72px;
  pointer-events: none;
  will-change: transform;
}

/* ===== BUTTONS ===== */
.buttons {
  padding: 20px;
}

.btn {
  width: 100%;
  border: none;
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 14px;
  font-size: 18px;
  font-weight: 600;
}

.btn.white {
  background: #fff;
  color: #333;
}

.btn.blue {
  background: #6f6af8;
  color: #fff;
}

/* ===== MODAL ===== */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  align-items: center;
  justify-content: center;
}

.modal-content {
  background: #111;
  color: #fff;
  padding: 20px;
  border-radius: 16px;
  width: 90%;
  max-width: 420px;
}

.modal-content h2 {
  margin-top: 0;
}

.close {
  margin-top: 16px;
  width: 100%;
}
</style>
</head>

<body>
<div class="app">

  <!-- COINS -->
  <img src="coin1.png" id="coin1" class="coin">
  <img src="coin13.png" id="coin2" class="coin">
  <img src="coin94.png" id="coin3" class="coin">

  <!-- BUTTONS -->
  <div class="buttons">
    <button class="btn white" onclick="invite()">üë• Invite users</button>
    <button class="btn blue">üí∞ Balance</button>
    <button class="btn blue">üí∏ Withdraw</button>
    <button class="btn blue">üìä Statistics</button>
    <button class="btn blue" onclick="openHow()">‚ÑπÔ∏è How it works</button>
    <button class="btn blue">üîí Activate access</button>
  </div>
</div>

<!-- MODAL -->
<div class="modal" id="howModal">
  <div class="modal-content">
    <h2>How FriendPortal Works</h2>
    <p>
      Invite users and earn TON rewards.
    </p>
    <ul>
      <li>+0.5 TON for each direct referral</li>
      <li>+0.25 TON for second-level referrals</li>
    </ul>
    <p>
      Activation (1 TON) is required to protect the system from multi-accounts
      and to enable secure withdrawals.
    </p>
    <button class="btn blue close" onclick="closeHow()">Close</button>
  </div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();

/* ===== INVITE ===== */
function invite() {
  const link = "https://t.me/YOUR_BOT_USERNAME?start=ref_" + tg.initDataUnsafe.user.id;
  tg.openTelegramLink("https://t.me/share/url?url=" + encodeURIComponent(link));
}

/* ===== HOW MODAL ===== */
function openHow() {
  document.getElementById("howModal").style.display = "flex";
}
function closeHow() {
  document.getElementById("howModal").style.display = "none";
}

/* ===== COIN ANIMATION ===== */
const coins = [
  { el: coin1, x: 40,  y: 220, vx: 0.35, vy: 0.25 },
  { el: coin2, x: 140, y: 250, vx: -0.3, vy: 0.2 },
  { el: coin3, x: 220, y: 235, vx: 0.25, vy: -0.25 },
];

const MIN_Y = 200;
const MAX_Y = 280;
const MIN_X = 20;
const MAX_X = window.innerWidth - 100;

function animateCoins() {
  coins.forEach(c => {
    c.vx += (Math.random() - 0.5) * 0.02;
    c.vy += (Math.random() - 0.5) * 0.02;

    c.vx = Math.max(-0.6, Math.min(0.6, c.vx));
    c.vy = Math.max(-0.5, Math.min(0.5, c.vy));

    c.x += c.vx;
    c.y += c.vy;

    if (c.x < MIN_X || c.x > MAX_X) c.vx *= -1;
    if (c.y < MIN_Y || c.y > MAX_Y) c.vy *= -1;

    c.el.style.transform = `translate(${c.x}px, ${c.y}px)`;
  });

  requestAnimationFrame(animateCoins);
}

animateCoins();
</script>
</body>
</html>
